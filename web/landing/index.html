<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>loggar - ai log analysis</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container">
        <header>
            <div class="logo">
                <img src="images/1.png" alt="loggar logo" height="100">
            </div>
            <nav class="nav-links">
                <a href="docs.html">docs</a>
                <a href="https://github.com/AyomiCoder/loggar" target="_blank">github</a>
            </nav>
        </header>

        <section class="hero">
            <div class="content">
                <h1>loggar</h1>
                <p class="tagline">ai-powered log triage. terminal-first.</p>

                <div class="install">
                    <code
                        id="install-cmd">curl -fsSL https://raw.githubusercontent.com/AyomiCoder/loggar/main/scripts/install.sh | sh</code>
                    <button class="copy-btn" onclick="copyInstall()" aria-label="Copy install command">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                    </button>
                </div>

                <div class="terminal">
                    <div class="terminal-header">
                        <div class="terminal-dots">
                            <span class="dot red"></span>
                            <span class="dot yellow"></span>
                            <span class="dot green"></span>
                        </div>
                        <div class="terminal-title">zsh â€” loggar</div>
                    </div>
                    <div class="terminal-body" id="terminal-content">
                        <!-- Content injected by JS -->
                    </div>
                </div>
            </div>
        </section>


        <script>
            const terminalContent = document.getElementById('terminal-content');

            // Helper to create a delay
            const wait = (ms) => new Promise(resolve => setTimeout(resolve, ms));

            // Configuration
            const typeDelay = 40;
            const lineDelay = 200;
            const commandDelay = 1000;

            const sequence = [
                {
                    command: "loggar auth",
                    output: [
                        '<div class="line"></div>',
                        '<div class="line"><span class="prompt">?</span> Select Identity Provider: <span class="text-green">GitHub</span></div>',
                        '<div class="line dim">Opening browser to authenticate...</div>',
                        '<div class="line"><span class="text-green">âœ“</span> Successfully authenticated as <span class="text-blue">ayomide@logger.dev</span></div>',
                        '<div class="line"></div>'
                    ]
                },
                {
                    command: "loggar analyze app_error.log",
                    output: [
                        '<div class="line dim">Analyzing <span class="text-yellow">74kb</span> of file...</div>',
                        '<div class="line"></div>',
                        '<div class="line">ðŸ’¡ The checkout pipeline collapsed due to <span class="text-red">payment gateway timeout</span>.</div>',
                        '<div class="line"></div>',
                        '<div class="line"><span class="label text-purple">CORE DIAGNOSIS</span></div>',
                        '<div class="line"><span class="bullet">â€¢</span> Stack trace confirms local <span class="text-yellow">setTimeout expiration (104ms)</span>.</div>',
                        '<div class="line"><span class="bullet">â€¢</span> <span class="text-red">100ms timeout</span> is 5x below standard p99 latency for Stripe.</div>',
                        '<div class="line"></div>',
                        '<div class="line"><span class="label text-blue">IMMEDIATE RESOLUTION</span></div>',
                        '<div class="line"><span class="bullet">â€¢</span> Increase client timeout window to <span class="text-green">10-15s</span>.</div>',
                        '<div class="line"><span class="bullet">â€¢</span> Run reconciliation for transaction <span class="text-cyan">TX_9921</span>.</div>',
                        '<div class="line"><span class="bullet">â€¢</span> Enforce <span class="text-yellow">idempotency keys</span> for future retries.</div>',
                        '<div class="line"></div>',
                        '<div class="line dim">loggar v1.0.0</div>'
                    ]
                }
            ];

            async function typeText(text, span) {
                for (let char of text) {
                    span.textContent += char;
                    await wait(typeDelay);
                }
            }

            async function runSequence() {
                while (true) {
                    // Clear initial content
                    terminalContent.innerHTML = '';

                    for (const step of sequence) {
                        // Create command line
                        const lineDiv = document.createElement('div');
                        lineDiv.className = 'line';
                        lineDiv.innerHTML = '<span class="prompt">$</span> ';

                        const textSpan = document.createElement('span');
                        const cursorSpan = document.createElement('span');
                        cursorSpan.className = 'cursor';

                        lineDiv.appendChild(textSpan);
                        lineDiv.appendChild(cursorSpan);
                        terminalContent.appendChild(lineDiv);

                        // Type command
                        await typeText(step.command, textSpan);

                        // Simulate processing delay
                        await wait(400);

                        // Remove cursor from this line
                        cursorSpan.remove();

                        // Output lines
                        for (const html of step.output) {
                            const div = document.createElement('div');
                            div.innerHTML = html;
                            terminalContent.appendChild(div);
                            await wait(lineDelay);
                            // Auto-scroll to bottom
                            terminalContent.scrollTop = terminalContent.scrollHeight;
                        }

                        await wait(commandDelay);
                    }

                    // Final idle state
                    const finalLine = document.createElement('div');
                    finalLine.className = 'line';
                    finalLine.innerHTML = '<span class="prompt">$</span> <span class="cursor"></span>';
                    terminalContent.appendChild(finalLine);
                    terminalContent.scrollTop = terminalContent.scrollHeight;

                    // Wait before restarting
                    await wait(5000);
                }
            }

            window.addEventListener('load', runSequence);
        </script>

        <section class="built-with">
            <p>built with</p>
            <div class="tech-logos">
                <a href="https://go.dev" target="_blank" class="tech-logo" title="Go" aria-label="Build with Go">
                    <!-- Go Logo (Blue Wordmark style) -->
                    <svg viewBox="10 0 80 40" width="45" height="21" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M22.6 15.6c-4.2 0-6.8 3-6.8 7.3 0 4.2 2.6 7.4 6.9 7.4 2.8 0 4.9-1.3 5.9-4h-5.6v-3.7h11.2c.2 1 .3 2.1 .3 3.3 0 6.6-4.6 11.6-11.8 11.6C12.4 37.5 5 30.6 5 19.9 5 10.9 12.1 4.5 22.7 4.5c5.3 0 9.4 1.8 12.2 4.7l-4.7 4.8c-1.8-1.9-4.1-3-7.6-3V15.6zM62.6 37.5c-7.2 0-12.2-5.1-12.2-12.6 0-7.3 5.2-12.6 12.3-12.6 7.2 0 12.3 5.3 12.3 12.6 0 7.4-5 12.6-12.4 12.6zm0-5.8c3.6 0 5.8-2.5 5.8-6.1 0-3.6-2.2-6.1-5.8-6.1 -3.6 0-5.8 2.5-5.8 6.1 0 3.6 2.2 6.1 5.8 6.1z"
                            fill="#00ADD8" />
                    </svg>
                </a>
                <span class="plus">+</span>
                <a href="https://deepmind.google/technologies/gemini/" target="_blank" class="tech-logo"
                    title="Google Gemini" aria-label="Built with Gemini">
                    <!-- Gemini Logo (Sparkle) -->
                    <svg viewBox="0 0 24 24" width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="gemini-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#4E86F5" />
                                <stop offset="50%" style="stop-color:#D84940" />
                                <stop offset="100%" style="stop-color:#F4B400" />
                            </linearGradient>
                        </defs>
                        <path
                            d="M10.5 2.5C11.5 7.5 14 9.5 19 10.5C14 11.5 11.5 14 10.5 19C9.5 14 7 11.5 2 10.5C7 9.5 9.5 7 10.5 2.5Z"
                            fill="url(#gemini-gradient)" />
                        <path
                            d="M19 14.5C19.5 16.5 20.5 17.5 22.5 18C20.5 18.5 19.5 19.5 19 21.5C18.5 19.5 17.5 18.5 15.5 18C17.5 17.5 18.5 16.5 19 14.5Z"
                            fill="url(#gemini-gradient)" />
                    </svg>
                </a>
            </div>
        </section>

        <footer>
            <p class="credits">developed by <a href="https://x.com/ayomicoder" target="_blank">ayomide</a></p>
        </footer>
    </div>

    <script>
        function copyInstall() {
            const cmd = document.getElementById('install-cmd').innerText;
            navigator.clipboard.writeText(cmd).then(() => {
                const btn = document.querySelector('.copy-btn');
                btn.classList.add('copied');
                setTimeout(() => btn.classList.remove('copied'), 2000);
            });
        }
    </script>
</body>

</html>